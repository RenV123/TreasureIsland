import{GameObject,DrawTypes}from"./gameObject.js";export class TreasureHunter extends GameObject{type=DrawTypes.IMG;color="#4d908e";lives=3;whiteListedTiles=["Grass","Treasure"];amountOfTreasureCollected=0;constructor(e,t,s,i,r,o,a){super(s,i,r,o),this.lives=a,this._gameboard=e,this._onTreasureCollected=t,this.imgSrc="./img/tile-treasurehunter-1.webp"}moveLeft(){let e=this._gameboard.getTile(this.x-1,this.y);return this._moveToTile(e)}moveRight(){let e=this._gameboard.getTile(this.x+1,this.y);return this._moveToTile(e)}moveUp(){let e=this._gameboard.getTile(this.x,this.y-1);return this._moveToTile(e)}moveDown(){let e=this._gameboard.getTile(this.x,this.y+1);return this._moveToTile(e)}_moveToTile(e){return!!this._canMoveOnTile(e)&&("Treasure"==e.constructor.name&&(this.amountOfTreasureCollected++,this._onTreasureCollected(e)),this.x=e.x,this.y=e.y,!0)}_canMoveOnTile(e){return e&&this.whiteListedTiles.includes(e.constructor.name)}}