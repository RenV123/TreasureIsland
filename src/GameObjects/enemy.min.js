import{Vector2D}from"../Helpers/vector2D.js";import{GameObject,DrawTypes}from"./gameObject.js";export class Enemy extends GameObject{type=DrawTypes.CIRCLE;color="#F94144";whiteListedTiles=["Grass"];constructor(e,t,s,r,i,o){super(s,r,i,o),this._gameboard=e,this._treasureHunter=t}moveToTreasureHunter(){let e=Vector2D.subtract(this._treasureHunter.pos,this.pos);if(e.length()>1){let t=Vector2D.divide(e,e.length());t=new Vector2D(t.x>0?Math.ceil(t.x):Math.floor(t.x),t.y>0?Math.ceil(t.y):Math.floor(t.y));let s=this._canMoveOnTile(this.x+t.x,this.y),r=this._canMoveOnTile(this.x,this.y+t.y);s&&r?Math.abs(e.x)>=Math.abs(e.y)?this.x+=t.x:this.y+=t.y:s?this.x+=t.x:r&&(this.y+=t.y)}}_canMoveOnTile(e,t){let s=this._gameboard.getTile(e,t);return this.whiteListedTiles.includes(s.constructor.name)}}