import{Vector2D}from"../Helpers/vector2D.js";import{GameObject,DrawTypes}from"./gameObject.js";export class Enemy extends GameObject{type=DrawTypes.CIRCLE;color="#F94144";whiteListedTiles=["Grass"];constructor(e,t,s,r,i,a){super(s,r,i,a),this._gameboard=e,this._treasureHunter=t}moveToTreasureHunter(){let e=Vector2D.subtract(this._treasureHunter.pos,this.pos);if(e.length()>1){let t=Vector2D.divide(e,e.length());t=new Vector2D(Math.round(t.x),Math.round(t.y)),Math.abs(e.x)>=Math.abs(e.y)&&this._canMoveOnTile(this.x+t.x,this.y)?this.x+=t.x:Math.abs(e.x)<=Math.abs(e.y)&&this._canMoveOnTile(this.x,this.y+t.y)&&(this.y+=t.y)}}_canMoveOnTile(e,t){let s=this._gameboard.getTile(e,t);return this.whiteListedTiles.includes(s.constructor.name)}}