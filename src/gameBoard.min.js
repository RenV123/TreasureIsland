import{Grass}from"./GameObjects/grass.js";import{getRandomNr}from"./Helpers/helperlib.js";import{Wall}from"./GameObjects/wall.js";import{Treasure}from"./GameObjects/treasure.js";export class GameBoard{_tiles=[];_grassTiles=[];_treasureTiles=[];_wallTiles=[];constructor(s,e,t=15,i=15,r=3,l=10){this.canvasWidth=s,this.canvasHeight=e,this._rows=t,this._columns=i,this._treasureCount=r,this._wallCount=l,this._generateTiles()}get tiles(){return this._tiles}_generateTiles=()=>{let s=this._rows*this._columns-this._wallCount-this._treasureCount,e=[];for(let t=0;t<s;t++){let s=new Grass;this._grassTiles.push(s),e.push(s)}for(let s=0;s<this._wallCount;s++){let s=new Wall;this._wallTiles.push(s),e.splice(getRandomNr(0,e.length-1),0,s)}for(let s=0;s<this._treasureCount;s++){let s=new Treasure;this._treasureTiles.push(s),e.splice(getRandomNr(0,e.length-1),0,s)}e.map(((s,e)=>{s.x=e%this._columns,s.y=parseInt(e/this._rows),s.width=this.canvasWidth/this._columns,s.height=this.canvasHeight/this._rows}));for(let s=0;s<this._rows;s++)this._tiles.push(e.slice(s*this._rows,s*this._rows+this._columns))};getRandomFreeSpotOnBoard=()=>this._grassTiles[getRandomNr(0,this._grassTiles.length-1)];getTile(s,e){return this._tiles[e][s]}collectTreasureTile(s){let e=this._treasureTiles.findIndex((e=>e===s));if(-1!==e){let t=new Grass(s.x,s.y,s.width,s.height);this._treasureTiles.splice(e,1),this._tiles[s.y][s.x]=t}}}